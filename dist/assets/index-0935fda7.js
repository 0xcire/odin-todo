(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();const l={showNav:document.querySelector(".show-nav"),hideNav:document.querySelector(".hide-nav"),sidebar:document.querySelector("#sidebar"),currentDate:document.querySelector(".current-date"),currentList:document.querySelector(".current-list"),todoFormDiv:document.querySelector(".todo-form"),todoForm:document.querySelector(".todo-form form"),addTodo:document.querySelector(".add-todo"),addList:document.querySelector(".add-project"),listFormDiv:document.querySelector(".list-form"),listForm:document.querySelector(".list-form form"),listSelect:document.querySelector("#list-dropdown"),listFormInput:document.querySelector("#list"),listClose:document.querySelector(".list-form-cancel"),todoClose:document.querySelector(".todo-form-cancel"),todosWrapper:document.querySelector(".todos"),listsWrapper:document.querySelector("#lists"),listDropdown:document.querySelector("#list-dropdown")},S=e=>e.replace(/-/g," "),q=e=>e.replace(/\s+/g,"-"),$=(e,t)=>{const o=e;o.style.display="block",t[0].focus()},O=e=>{const t=e;t.style.display="none"},W=e=>{e.forEach(o=>{o.disabled=!1,o.style.color="var(--accent-color)"})},M=e=>{e.forEach(o=>{o.disabled=!0,o.style.color="var(--tertiary-color)"})},f=(e,t,o="Todos")=>{const i=e;i.innerHTML="";const s=t;for(let r=0;r<s.length;r+=1){const u=document.createElement("div");u.classList.add("todo"),u.setAttribute("id",s[r].id),u.dataset.name=o;const m=document.createElement("div");m.classList.add("text");const n=document.createElement("div");n.classList.add("completion");const d=document.createElement("input");d.setAttribute("id","todo-title"),d.dataset.name=`${s[r].id}-input`;const a=document.createElement("input");a.setAttribute("id","todo-date"),a.dataset.name=`${s[r].id}-input`;const p=document.createElement("input");p.setAttribute("id","done"),p.dataset.name=`${s[r].id}-input`;const h=document.createElement("i");h.tabIndex=0,h.classList.add("edit","fa-solid","fa-pen-to-square");const g=document.createElement("button");g.classList.add("delete");const L=document.createElement("i");L.classList.add("fa-solid","fa-trash"),d.setAttribute("type","text"),d.setAttribute("name","todo-title"),d.setAttribute("value",s[r].title),d.setAttribute("disabled",!0),a.setAttribute("type","date"),a.setAttribute("name","todo-date"),a.value=s[r].due,a.setAttribute("required",!0),a.setAttribute("disabled",!0),p.setAttribute("type","checkbox"),p.setAttribute("name","done"),p.setAttribute("disabled",!0),p.checked=s[r].completed,g.appendChild(L),m.appendChild(d),m.appendChild(a),n.appendChild(p),n.appendChild(h),n.appendChild(g),u.appendChild(m),u.appendChild(n),e.appendChild(u)}},V=e=>{const t=e[0],o=e[1];t.value="",o.value=""},U=e=>{e!=="Complete"&&(document.querySelector(`option[value='${e}']`).selected=!0)},T=(e="Todos")=>{l.currentList.dataset.name=e,l.currentList.textContent=S(e)},j=()=>{const{addTodo:e,todoClose:t,todoForm:o,todoFormDiv:i,listFormDiv:s}=l;e.addEventListener("click",()=>{s.style.display!=="block"&&($(i,o),window.innerWidth<1080&&(l.sidebar.style.transform="translate(-100%, 0)"))}),t.addEventListener("click",()=>{O(i),o.reset()})},H=e=>{l.todoForm.addEventListener("submit",t=>{t.preventDefault(),e(t)})},J=e=>{document.addEventListener("click",t=>{t.target.closest(".edit")&&e(t)}),document.addEventListener("keydown",t=>{t.key==="Enter"&&t.target.closest(".edit")&&e(t)})},R=e=>{document.addEventListener("click",t=>{t.target.closest(".delete")&&e(t)}),document.addEventListener("keydown",t=>{t.key==="Enter"&&t.target.matches(".delete")&&e(t)})},B=e=>{l.listSelect.addEventListener("change",t=>{e(t)})},P=e=>{document.addEventListener("DOMContentLoaded",()=>{e()})};let K=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,o)=>(o&=63,o<36?t+=o.toString(36):o<62?t+=(o-26).toString(36).toUpperCase():o>62?t+="-":t+="_",t),"");class _{constructor(){this.last="Todos",this.todos={Todos:[],Complete:[]}}removeList(t){delete this.todos[t],this.pushToLocalStorage()}static localIsEmpty(){return localStorage.getItem("todos")===null}static clearLocalStorage(){return localStorage.clear()}setDataFromLocal(t){this.last=t.last,this.todos=t.todos}pushToLocalStorage(){Object.keys(this).forEach(t=>{localStorage.setItem(t,JSON.stringify(this[t]))})}getDataFromLocal(){const t=localStorage.getItem("last"),o=localStorage.getItem("todos"),i={last:JSON.parse(t),todos:JSON.parse(o)};this.constructor.localIsEmpty()?this.todos={Todos:[],Complete:[]}:this.setDataFromLocal(i)}}const b=new _;class z{constructor(){this.storage=b}delete(t,o){const i=q(o),s=this.storage.todos[i].findIndex(r=>r.id===t);this.storage.todos[i].splice(s,1),b.pushToLocalStorage()}updateEdit(t,o,i){const s=q(o),[r,u,m]=i;for(let n=0;n<this.storage.todos[s].length;n+=1)this.storage.todos[s][n].id===t&&(this.storage.todos[s][n].title=r,this.storage.todos[s][n].due=u,this.storage.todos[s][n].completed=m);b.pushToLocalStorage()}static getUpdatedValues(t){return[...t].map(i=>i.type==="checkbox"?i.checked:i.value)}saveData(t){const o=t.get("list"),i={id:K(),title:t.get("title"),due:t.get("due"),completed:!1};return this.storage.todos[o].push(i),this.storage.pushToLocalStorage(),i}getTodos(t="Todos"){return this.storage.todos[t]}getTotalTodos(t){return this.storage.todos[t].length}addToCompleted(t,o){const i=this.storage.todos[t].findIndex(r=>r.id===o),s=this.storage.todos[t].splice(i,1);this.storage.todos.Complete.push(s[0]),this.storage.pushToLocalStorage()}}const N=e=>{const t=e;t.style.display="none"},G=(e,t)=>{const o=e;o.style.display="block",t.children[1].focus()},Q=(e,t,o)=>{const i=t,s=e;s.innerHTML="";for(let r=0;r<i.length;r+=1){const u=i[r],m=o[r],n=S(u),d=document.createElement("div");d.dataset.name=u,d.classList.add("list");const a=document.createElement("div");a.classList.add("description");const p=document.createElement("p");p.tabIndex=0,p.classList.add("list-name"),p.dataset.name=`${u}-btn`;const h=document.createElement("p");h.classList.add("how-many"),h.textContent=m;const g=document.createElement("i");g.tabIndex=0,g.classList.add("list-del","fa-solid","fa-trash"),g.dataset.name=`${u}-btn`,p.textContent=n,a.appendChild(p),a.appendChild(h),d.appendChild(a),d.appendChild(g),e.appendChild(d);const L=document.createElement("div");L.classList.add("list-delete-form");const v=document.createElement("p");v.textContent=d.dataset.name==="Todos"||d.dataset.name==="Complete"?"clear?":"delete?";const E=document.createElement("div");E.classList.add("options");const C=document.createElement("i");C.classList.add("fa-solid","fa-check","options-btn"),C.dataset.name=`${u}-opt`;const w=document.createElement("i");w.classList.add("fa-solid","fa-xmark","options-btn"),w.dataset.name=`${u}-opt`,E.appendChild(C),E.appendChild(w),L.appendChild(v),L.appendChild(E),d.appendChild(L)}},y=(e,t)=>{document.querySelector(`[data-name="${t}"] .how-many`).textContent=e},X=(e,t)=>{if(e==="Complete")return;const o=document.createElement("option");o.setAttribute("value",e),o.textContent=S(e),t.appendChild(o)},Y=e=>{l.listDropdown.innerHTML="",e.forEach(t=>{X(t,l.listDropdown)})},Z=()=>{l.sidebar.style.transform="translate(0,0)"},I=()=>{l.sidebar.style.transform="translate(-100%, 0)"},k=e=>{e.classList.toggle("show")},x=e=>{for(let t=0;t<e.length;t+=1){const o=e;o[t].tabIndex=0}},A=e=>{for(let t=0;t<e.length;t+=1){const o=e;o[t].tabIndex=-1}},F=(e,t)=>{const o=document.querySelectorAll(`[data-name="${e}-btn"]`),i=document.querySelectorAll(`[data-name="${e}-opt"]`);if(t){A(o),x(i);return}A(i),x(o)},D=(e,t)=>{Q(l.listsWrapper,e,t),Y(e)},tt=()=>{l.showNav.addEventListener("click",()=>{Z()}),l.hideNav.addEventListener("click",()=>{I()})},et=()=>{const{addList:e,listClose:t,listForm:o,listFormDiv:i,todoFormDiv:s}=l;e.addEventListener("click",()=>{s.style.display!=="block"&&G(i,o)}),t.addEventListener("click",()=>{N(i),o.reset()})},ot=e=>{l.listForm.addEventListener("submit",t=>{t.preventDefault(),e(t)})},st=e=>{document.addEventListener("click",t=>{t.target.closest(".list-del")&&e(t)}),document.addEventListener("keydown",t=>{t.key==="Enter"&&t.target.closest(".list-del")&&e(t)})},nt=e=>{document.addEventListener("click",t=>{t.target.matches(".fa-check")&&e(t)}),document.addEventListener("keydown",t=>{t.key==="Enter"&&t.target.matches(".fa-check")&&e(t)})},dt=e=>{document.addEventListener("click",t=>{t.target.matches(".fa-xmark")&&e(t)}),document.addEventListener("keydown",t=>{t.key==="Enter"&&t.target.matches(".fa-xmark")&&e(t)})},at=e=>{document.addEventListener("click",t=>{t.target.matches(".list-name")&&e(t)}),document.addEventListener("keydown",t=>{t.key==="Enter"&&t.target.matches(".list-name")&&e(t)})},it=e=>{document.addEventListener("DOMContentLoaded",t=>{e(t)})};class rt{constructor(){this.storage=b}addListToStorage(t){const o=q(t);this.storage.todos[o]=[],this.storage.pushToLocalStorage()}getTodos(t="Todos"){return this.storage.todos[t]}clearTodos(t="Todos"){this.storage.todos[t]=[],this.storage.pushToLocalStorage()}getLists(){return Object.keys(this.storage.todos)}delete(t){this.storage.removeList(t)}getListCounts(){return Object.keys(this.storage.todos).map(o=>this.storage.todos[o].length)}setLastViewedList(t){this.storage.last=t,this.storage.pushToLocalStorage()}}const c={list:new rt,todo:new z};document.addEventListener("DOMContentLoaded",()=>{const e=new Date,t=new Intl.DateTimeFormat("en-US").format(e);l.currentDate.textContent=t,b.getDataFromLocal()});const ct=()=>{const{listFormInput:e,listFormDiv:t}=l,o=n=>{c.list.addListToStorage(e.value),D(c.list.getLists(),c.list.getListCounts()),N(t),n.target.reset()},i=n=>{const d=n.target.parentElement.dataset.name,a=document.querySelectorAll(`[data-name=${d}-opt]`)[1];k(n.target.nextSibling),setTimeout(()=>a.focus(),0),F(d,!0)},s=n=>{const a=n.target.closest(".list").dataset.name;if(a==="Todos"||a==="Complete"){c.list.clearTodos(a),f(l.todosWrapper,[],a),y(0,a),k(n.target.closest(".list-delete-form")),F(a,!1);return}c.list.delete(a),D(c.list.getLists(),c.list.getListCounts()),f(l.todosWrapper,c.todo.getTodos()),T()},r=n=>{const d=n.target.closest(".list").dataset.name;k(n.target.closest(".list-delete-form")),F(d,!1)},u=()=>{const n=c.list.getLists(),d=c.list.getListCounts();D(n,d)},m=n=>{const d=n.target.closest(".list").dataset.name;c.list.setLastViewedList(d),U(d),T(d);const a=c.todo.getTodos(d);f(l.todosWrapper,a,d),window.innerWidth<1080&&I()};et(),tt(),ot(o),st(i),nt(s),dt(r),it(u),at(m)};ct();const lt=()=>{const{todoForm:e,todosWrapper:t}=l,o=m=>{const n=new FormData(e);c.todo.saveData(n);const d=n.get("list"),a=c.todo.getTodos(d);f(t,a,d);const p=c.todo.getTotalTodos(d);y(p,d),O(m.target.parentElement),V(e)},i=m=>{const n=m.target.closest(".todo"),{id:d}=n,a=document.querySelector(".current-list"),p=a.textContent,h=a.dataset.name,g=document.querySelectorAll(`[data-name="${d}-input"]`);if(g[0].disabled)W(g);else{M(g);const L=c.todo.constructor.getUpdatedValues(g);if(c.todo.updateEdit(d,p,L),L[2]===!0){c.todo.addToCompleted(h,d);const v=c.todo.getTodos(h);f(l.todosWrapper,v,p),y(c.todo.getTotalTodos(h),h),y(c.todo.getTotalTodos("Complete"),"Complete")}}},s=m=>{const n=m.target.closest(".todo"),{id:d}=n,a=n.dataset.name;c.todo.delete(d,a);const p=c.todo.getTodos(a);f(l.todosWrapper,p,a);const h=c.todo.getTotalTodos(a);y(h,a)},r=m=>{const n=m.target.value,d=S(n);T(d);const a=c.todo.getTodos(n);f(l.todosWrapper,a,n)},u=()=>{const m=c.list.storage.last,n=c.todo.getTodos(m);f(l.todosWrapper,n,m),T(m)};j(),H(o),J(i),R(s),B(r),P(u)};lt();
